<script>
  // Get today's date (ddmm format)
  const today = new Date();
  let dd = String(today.getDate()).padStart(2, '0');
  let mm = String(today.getMonth() + 1).padStart(2, '0');
  const correctCode = dd + mm;  // example: 0509 for 5th September

  let enteredCode = "";

  const boxes = document.querySelectorAll(".code-box");
  const keys = document.querySelectorAll(".key");
  const unlockBtn = document.getElementById("unlock");
  const clearBtn = document.getElementById("clear");
  const message = document.getElementById("message");
  const giftBtn = document.getElementById("giftBtn");

  // Handle number button clicks
  keys.forEach(key => {
    key.addEventListener("click", () => {
      const value = key.textContent;
      if (!isNaN(value) && enteredCode.length < 4) { 
        enteredCode += value;
        boxes[enteredCode.length - 1].textContent = value;
      }
    });
  });

  // Clear button
  clearBtn.addEventListener("click", () => {
    enteredCode = "";
    boxes.forEach(box => box.textContent = "");
    message.textContent = "";
    giftBtn.style.display = "none";
  });

  // Unlock button
  unlockBtn.addEventListener("click", () => {
    if (enteredCode === correctCode) {
      message.textContent = "✅ Correct Passcode!";
      message.className = "message success";
      giftBtn.style.display = "inline-block"; // show gift button
    } else {
      message.textContent = "❌ Wrong Code!";
      message.className = "message error";
      giftBtn.style.display = "none";
    }
  });

  // ✅ Correct click handler
  giftBtn.addEventListener("click", () => {
    window.location.href = "memories.html";
  });
</script>
